# NL Profile CDS-M

## Background

This piece of software can be used to publish information to municipalities or their data platforms. There are 4 endpoints used nowadays:  

- MDS 2.0 vehicles
- MDS 2.0 vehicles/status
- MDS 2.0 trips
- GBFS 2.3 geofencing_zones

## Install

Alter the config.json, create a JWT using https://jwt.io/#debugger-io. In the 'payload' part, you have to put this (at least), with an identifying name for the party you're going to publish data to. Put the secret you're using on the website also in the config.json. Provide the encoded token to the consuming party. It should be send in the header field 'Authorisation', together with the 'Bearer:' prefix.

```json
{
  "name": "Vianova"
}
```

## Old stuff

## Swagger generated server

## Overview

This server was generated by the [swagger-codegen](https://github.com/swagger-api/swagger-codegen) project. By using the
[OpenAPI-Spec](https://github.com/swagger-api/swagger-core/wiki) from a remote server, you can easily generate a server stub.  This
is an example of building a swagger-enabled Flask server.

This example uses the [Connexion](https://github.com/zalando/connexion) library on top of Flask.

## Requirements
Python 3.5.2+

## Usage
To run the server, please execute the following from the root directory:

```
pip3 install -r requirements.txt
python3 -m swagger_server
```

and open your browser to here:

```
http://localhost:8080/ui/
```

Your Swagger definition lives here:

```
http://localhost:8080/swagger.json
```

To launch the integration tests, use tox:
```
sudo pip install tox
tox
```

## Running with Docker

To run the server on a Docker container, please execute the following from the root directory:

```bash
# building the image
docker build -t swagger_server .

# starting up a container
docker run -p 8080:8080 swagger_server
```